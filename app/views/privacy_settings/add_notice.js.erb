function animateNotice(notice) {
  const nav = document.getElementsByTagName("nav")[0];
  bottomNav = nav.getBoundingClientRect().bottom;
  notice.animate([
    { transform: 'translateY(0)' },
    { transform: `translateY(${bottomNav}px)` }
  ],
    {
      duration: 700,
      delay: 20,
      easing: 'ease-in-out',
      fill: 'forwards'
     }
  );
}

function addNotice(new_notice)  {
  const notice = document.getElementById("notice");
  if(!notice) {
    const header = document.getElementsByTagName("header")[0];
    header.insertAdjacentHTML('beforeend', new_notice);
    const notice = document.getElementById("notice");
    animateNotice(notice);
  }
}

addNotice('<%= j render "privacy_settings/notice" %>');
